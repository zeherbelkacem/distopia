<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="home">

<head>
	<title>Movies</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css} " />
</head>

</head>

<body>
	<div class="mt-5" layout:fragment="sectionAdmin">
		<div class="card text-center">
			<div class="card-header">
				<h5 class="card-title">Add new movie</h5>
			</div>
			<div class="card-body">

				<form th:action="@{saveMovie}" method="post">
					<div th:if="${movie.getCategory() != null}">
						<div class="form-group">
							<label class="control-label"></label>
							<!--ID-->
							<input type="hidden" class="form-control" name="id" th:value="${movie.id}">
							<span th:errors="${movie.id}" class="text-danger"></span>
						</div>
					</div>
					<div class="form-group mb-3">
						<label class="control-label">Movie Title</label>
						<input type="text" class="form-control" name="title" th:value="${movie.title}">
						<span th:errors="${movie.title}" class="text-danger"></span>
					</div>
					<div class="form-group mb-3">
						<label class="control-label">Movie synopsy</label>
						<input type="text" class="form-control" name="description" th:value="${movie.description}">
						<span th:errors="${movie.description}" class="text-danger"></span>
					</div>
					<div class="form-group mb-3">
						<label class="control-label">Production</label>
						<input type="text" class="form-control" name="production" th:value="${movie.production}">
						<span th:errors="${movie.production}" class="text-danger"></span>
					</div>

					<div class="input-group mb-3">
						<label class="control-label">Release Date</label>
						<input type="date" class="form-control" name="releaseDate" th:value="${movie.production}" />
					</div>

					<div class="input-group mb-3">
						<label class="control-label">Duration</label>
						<input type="time"  class="form-control" name="duration" />
					</div>
					<div class="form-group mb-3">
						<label class="control-label">Classification</label>
						<select name="catName" class="form-control  mb-3">
							<div th:if="${movie.getCategory() != null}">
								<option th:each="c : ${categoriesNames}" th:value="${c}" th:text="${c}"
									th:selected="${c==movie.getCategory().getName()}"></option>

							</div>
							<div th:if="${movie.getCategory() == null}">
								<option th:each="c : ${categories}" th:text="${c.name}"></option>
							</div>

						</select>
					</div>


					<div class="mb-5">
						<label for="Image" class="form-label">Associated image</label>
						<input class="form-control" type="file" name="fileName" onchange="preview()">
					</div>

					<button type="submit" class="btn btn-primary">Save</button>
				</form>

			</div>
		</div>
	</div>


	<script th:src="@{/webjars/jquery/3.0.0/jquery.min.js}">
	</script>
	<script th:src="@{/webjars/popper.js/2.9.2/umd/popper.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/5.0.1/js/bootstrap.min.js}"></script>
</body>

</html>